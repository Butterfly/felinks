#!/bin/sh
#
# Copyright (c) 2005 Jonas Fonseca
#

test_description='Test the very basic parsing of SGML documents.

This test runs very basic features, like checking that nodes are placed
correctly in the DOM tree.
'

. ./libtest

################################################################
# init-db has been done in an empty repository.
# make sure it is empty.

sgml-parser --uri "test:hello-world" \
	    --src "<html><body><p>Hello World!</p></body></html>" \
	    > output

cat > expected <<EOF
#document: test:hello-world
  element: html
    element: body
      element: p
        #text: Hello World!
EOF

test_expect_success \
	'Test a small document.' \
	'cmp output expected' 

test_done
